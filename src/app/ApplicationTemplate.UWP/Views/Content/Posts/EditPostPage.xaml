<Page x:Class="ApplicationTemplate.Views.Content.EditPostPage"
	  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	  xmlns:local="using:ApplicationTemplate"
	  xmlns:uc="using:Nventive.View.Converters"
	  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
	  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
	  xmlns:toolkit="using:Uno.UI.Toolkit"
	  mc:Ignorable="d">

	<Grid Background="{StaticResource MaterialBackgroundBrush}">

		<Grid.RowDefinitions>
			<RowDefinition Height="Auto" />
			<RowDefinition Height="*" />
		</Grid.RowDefinitions>

		<CommandBar Content="{Binding Title}">
			<toolkit:CommandBarExtensions.NavigationCommand>
				<AppBarButton Command="{Binding Cancel}">
					<AppBarButton.Icon>
						<BitmapIcon UriSource="ms-appx:///Assets/CommandBarCommands/closeIcon.png" />
					</AppBarButton.Icon>
				</AppBarButton>
			</toolkit:CommandBarExtensions.NavigationCommand>
		</CommandBar>

		<StackPanel Margin="20,30,20,10"
					Grid.Row="1">

			<StackPanel DataContext="{Binding Form}">

				<!-- Title -->
				<local:DataValidationView Model="{Binding}"
										  PropertyName="Title"
										  Margin="0,4">
					<TextBox Text="{Binding Title, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
							 Background="{StaticResource MaterialSurfaceBrush}"
							 CornerRadius="4"
							 PlaceholderText="Joke's title"
							 Style="{StaticResource MaterialOutlinedTextBoxStyle}"
							 FontSize="16" />
				</local:DataValidationView>

				<!-- Body -->
				<local:DataValidationView Model="{Binding}"
										  PropertyName="Body"
										  Margin="0,4">
					<TextBox Text="{Binding Body, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
							 Background="{StaticResource MaterialSurfaceBrush}"
							 CornerRadius="4"
							 PlaceholderText="Write the joke"
							 Style="{StaticResource MaterialOutlinedTextBoxStyle}"
							 FontSize="16" />
				</local:DataValidationView>
			</StackPanel>

			<StackPanel Orientation="Horizontal"
						HorizontalAlignment="Right">
				<Button Content="Cancel"
						x:Uid="EditPost_Cancel"
						Command="{Binding Cancel}"
						Style="{StaticResource OutlinedExecutingButtonStyle}"
						HorizontalAlignment="Stretch"
						Margin="5" />
				<Button Content="Save"
						x:Uid="EditPost_Save"
						Command="{Binding Save}"
						Style="{StaticResource ExecutingButtonStyle}"
						HorizontalAlignment="Stretch"
						Margin="5" />
			</StackPanel>
		</StackPanel>
	</Grid>
</Page>
